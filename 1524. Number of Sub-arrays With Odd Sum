# leetcode

题目描述（中等）
=============

给你一个整数数组 arr 。请你返回和为 奇数 的子数组数目。
由于答案可能会很大，请你将结果对 10^9 + 7 取余后返回。
示例：输入：arr = [1,3,5]
输出：4
解释：所有的子数组为 [[1],[1,3],[1,3,5],[3],[3,5],[5]] 。
所有子数组的和为 [1,4,9,3,8,5].
奇数和包括 [1,9,3,5] ，所以答案为 4 。

解法一：递推
==========

如果当前的和为1，那么找到前缀和为0的，在这一段中，和就为奇数
因为前缀和为0的变成前缀和为1的，中间的和肯定是一个奇数
同理，如果当前的和为0，那么找到前缀和为1的，在这一段中，和就为奇数
我们只需要统计前缀和为0和1的个数即可

```java
public int numberOfSubarrays(int [] arr){
  int [] cnts = ne int[2];
  int cur = 0;
  int ans = 0;
  cnts[0] = 1;
  int mod = 100000007;
  for(int x : cnts){
    cur = (cur + x) % 2;
    ans += cnts[1 - cur];
    cnts[cur]++;
    ans %= mod;}
  return ans % mod;}
```

总结：
====

比较难的一点就是统计前缀和，这里采用的是cur = (cur + x) % 2，算一个经典的题目了。
